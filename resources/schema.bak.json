{
  "$id": "schema.json",
  "$schema":"http://json-schema.org/draft-07/schema#",
  "type": "object",
  "definitions": {
    "properties": {
      "bitrate_changed": {
        "type": "object",
        "$ref": "#/definitions/TBatchEventPayload/properties/event/items/bitrate_changed"
      },
      "buffered": {
        "type": "object",
        "$ref": "#/definitions/TBatchEventPayload/properties/event/items/buffered"
      },
      "buffering": {
        "type": "object",
        "$ref": "#/definitions/TBatchEventPayload/properties/event/items/buffering"
      },
      "error": {
        "type": "object",
        "$ref": "#/definitions/TBatchEventPayload/properties/event/items/error"
      },
      "heartbeat": {
        "type": "object",
        "$ref": "#/definitions/TBatchEventPayload/properties/event/items/heartbeat"
      },
      "init": {
        "type": "object",
        "$ref": "#/definitions/TBatchEventPayload/properties/event/items/init"
      },
      "loaded": {
        "type": "object",
        "$ref": "#/definitions/TBatchEventPayload/properties/event/items/loaded"
      },
      "loading": {
        "type": "object",
        "$ref": "#/definitions/TBatchEventPayload/properties/event/items/loading"
      },
      "pause": {
        "type": "object",
        "$ref": "#/definitions/TBatchEventPayload/properties/event/items/pause"
      },
      "play": {
        "type": "object",
        "$ref": "#/definitions/TBatchEventPayload/properties/event/items/play"
      },
      "playing": {
        "type": "object",
        "$ref": "#/definitions/TBatchEventPayload/properties/event/items/playing"
      },
      "resume": {
        "type": "object",
        "$ref": "#/definitions/TBatchEventPayload/properties/event/items/resume"
      },
      "seeked": {
        "type": "object",
        "$ref": "#/definitions/TBatchEventPayload/properties/event/items/seeked"
      },
      "seeking": {
        "type": "object",
        "$ref": "#/definitions/TBatchEventPayload/properties/event/items/seeking"
      },
      "stopped": {
        "type": "object",
        "$ref": "#/definitions/TStoppedEvent"
      },
      "warning": {
        "type": "object",
        "$ref": "#/definitions/TBatchEventPayload/properties/event/items/warning"
      }
    },
    "Record": {
      "type": "object"
    },
    "TBatchEventPayload": {
      "properties": {
        "event": {
          "items": {
              "bitrate_changed": {
                "allOf": [
                  {
                    "properties": {
                      "duration": {
                        "type": "number"
                      },
                      "playhead": {
                        "type": "number"
                      },
                      "timestamp": {
                        "type": "number"
                      }
                    },
                    "type": "object"
                  },
                  {
                    "properties": {
                      "event": {
                        "enum": ["bitrate_changed"],
                        "type": "string"
                      },
                      "payload": {
                        "properties": {
                          "audioBitrate": {
                            "type": "number"
                          },
                          "bitrate": {
                            "type": "number"
                          },
                          "height": {
                            "type": "number"
                          },
                          "videoBitrate": {
                            "type": "number"
                          },
                          "width": {
                            "type": "number"
                          }
                        },
                        "type": "object"
                      }
                    },
                    "type": "object"
                  }
                ]
              },
              "buffered": {
                "allOf": [
                  {
                    "properties": {
                      "duration": {
                        "type": "number"
                      },
                      "playhead": {
                        "type": "number"
                      },
                      "timestamp": {
                        "type": "number"
                      }
                    },
                    "type": "object"
                  },
                  {
                    "properties": {
                      "event": {
                        "enum": ["buffered"],
                        "type": "string"
                      }
                    },
                    "type": "object"
                  }
                ]
              },
              "buffering": {
                "allOf": [
                  {
                    "properties": {
                      "duration": {
                        "type": "number"
                      },
                      "playhead": {
                        "type": "number"
                      },
                      "timestamp": {
                        "type": "number"
                      }
                    },
                    "type": "object"
                  },
                  {
                    "properties": {
                      "event": {
                        "enum": ["buffering"],
                        "type": "string"
                      }
                    },
                    "type": "object"
                  }
                ]
              },
              "error": {
                "allOf": [
                  {
                    "properties": {
                      "duration": {
                        "type": "number"
                      },
                      "playhead": {
                        "type": "number"
                      },
                      "timestamp": {
                        "type": "number"
                      }
                    },
                    "type": "object"
                  },
                  {
                    "properties": {
                      "event": {
                        "enum": ["error"],
                        "type": "string"
                      },
                      "payload": {
                        "properties": {
                          "category": {
                            "type": "string"
                          },
                          "code": {
                            "type": "string"
                          },
                          "data": {
                            "$ref": "#/definitions/Record"
                          },
                          "message": {
                            "type": "string"
                          }
                        },
                        "type": "object"
                      }
                    },
                    "type": "object"
                  }
                ]
              },
              "init": {
                "allOf": [
                  {
                    "properties": {
                      "duration": {
                        "type": "number"
                      },
                      "playhead": {
                        "type": "number"
                      },
                      "timestamp": {
                        "type": "number"
                      }
                    },
                    "type": "object"
                  },
                  {
                    "properties": {
                      "event": {
                        "enum": ["init"],
                        "type": "string"
                      },
                      "heartbeatInterval": {
                        "type": "number"
                      },
                      "payload": {
                        "allOf": [
                          {
                            "$ref": "#/definitions/Record"
                          },
                          {
                            "properties": {
                              "contentId": {
                                "type": "string"
                              },
                              "contentUrl": {
                                "type": "string"
                              },
                              "deviceId": {
                                "type": "string"
                              },
                              "deviceModel": {
                                "type": "string"
                              },
                              "deviceType": {
                                "type": "string"
                              },
                              "drmType": {
                                "type": "string"
                              },
                              "live": {
                                "type": "boolean"
                              },
                              "userId": {
                                "type": "string"
                              }
                            },
                            "type": "object"
                          }
                        ]
                      },
                      "sessionId": {
                        "type": "string"
                      }
                    },
                    "type": "object"
                  }
                ]
              },
              "loading": {
                "allOf": [
                  {
                    "properties": {
                      "duration": {
                        "type": "number"
                      },
                      "playhead": {
                        "type": "number"
                      },
                      "timestamp": {
                        "type": "number"
                      }
                    },
                    "type": "object"
                  },
                  {
                    "properties": {
                      "event": {
                        "enum": ["loading"],
                        "type": "string"
                      }
                    },
                    "type": "object"
                  }
                ]
              },
              "loaded": {
                "allOf": [
                  {
                    "properties": {
                      "duration": {
                        "type": "number"
                      },
                      "playhead": {
                        "type": "number"
                      },
                      "timestamp": {
                        "type": "number"
                      }
                    },
                    "type": "object"
                  },
                  {
                    "properties": {
                      "event": {
                        "enum": ["loaded"],
                        "type": "string"
                      }
                    },
                    "type": "object"
                  }
                ]
              },
              "play": {
                "allOf": [
                  {
                    "properties": {
                      "duration": {
                        "type": "number"
                      },
                      "playhead": {
                        "type": "number"
                      },
                      "timestamp": {
                        "type": "number"
                      }
                    },
                    "type": "object"
                  },
                  {
                    "properties": {
                      "event": {
                        "enum": ["play"],
                        "type": "string"
                      }
                    },
                    "type": "object"
                  }
                ]
              },
              "playing": {
                "allOf": [
                  {
                    "properties": {
                      "duration": {
                        "type": "number"
                      },
                      "playhead": {
                        "type": "number"
                      },
                      "timestamp": {
                        "type": "number"
                      }
                    },
                    "type": "object"
                  },
                  {
                    "properties": {
                      "event": {
                        "enum": ["playing"],
                        "type": "string"
                      }
                    },
                    "type": "object"
                  }
                ]
              },
              "pause": {
                "allOf": [
                  {
                    "properties": {
                      "duration": {
                        "type": "number"
                      },
                      "playhead": {
                        "type": "number"
                      },
                      "timestamp": {
                        "type": "number"
                      }
                    },
                    "type": "object"
                  },
                  {
                    "properties": {
                      "event": {
                        "enum": ["pause"],
                        "type": "string"
                      }
                    },
                    "type": "object"
                  }
                ]
              },
              "resume": {
                "allOf": [
                  {
                    "properties": {
                      "duration": {
                        "type": "number"
                      },
                      "playhead": {
                        "type": "number"
                      },
                      "timestamp": {
                        "type": "number"
                      }
                    },
                    "type": "object"
                  },
                  {
                    "properties": {
                      "event": {
                        "enum": ["resume"],
                        "type": "string"
                      }
                    },
                    "type": "object"
                  }
                ]
              },
              "seeking": {
                "allOf": [
                  {
                    "properties": {
                      "duration": {
                        "type": "number"
                      },
                      "playhead": {
                        "type": "number"
                      },
                      "timestamp": {
                        "type": "number"
                      }
                    },
                    "type": "object"
                  },
                  {
                    "properties": {
                      "event": {
                        "enum": ["seeking"],
                        "type": "string"
                      }
                    },
                    "type": "object"
                  }
                ]
              },
              "seeked": {
                "allOf": [
                  {
                    "properties": {
                      "duration": {
                        "type": "number"
                      },
                      "playhead": {
                        "type": "number"
                      },
                      "timestamp": {
                        "type": "number"
                      }
                    },
                    "type": "object"
                  },
                  {
                    "properties": {
                      "event": {
                        "enum": ["seeked"],
                        "type": "string"
                      }
                    },
                    "type": "object"
                  }
                ]
              },
              "warning": {
                "allOf": [
                  {
                    "properties": {
                      "duration": {
                        "type": "number"
                      },
                      "playhead": {
                        "type": "number"
                      },
                      "timestamp": {
                        "type": "number"
                      }
                    },
                    "type": "object"
                  },
                  {
                    "properties": {
                      "event": {
                        "enum": ["warning"],
                        "type": "string"
                      },
                      "payload": {
                        "properties": {
                          "category": {
                            "type": "string"
                          },
                          "code": {
                            "type": "string"
                          },
                          "data": {
                            "$ref": "#Record"
                          },
                          "message": {
                            "type": "string"
                          }
                        },
                        "type": "object"
                      }
                    },
                    "type": "object"
                  }
                ]
              },
              "TStoppedEvent": {
                "$ref": "#TStoppedEvent"
              },
              "heartbeat": {
                "allOf": [
                  {
                    "properties": {
                      "duration": {
                        "type": "number"
                      },
                      "playhead": {
                        "type": "number"
                      },
                      "timestamp": {
                        "type": "number"
                      }
                    },
                    "type": "object"
                  },
                  {
                    "$ref": "#{payload:TBatchEventPayload;}"
                  },
                  {
                    "properties": {
                      "event": {
                        "enum": ["heartbeat"],
                        "type": "string"
                      },
                      "payload": {
                        "$ref": "#/definitions/TBatchEventPayload"
                      },
                      "sessionId": {
                        "type": "string"
                      }
                    },
                    "type": "object"
                  }
                ]
              }
          },
          "type": "array"
        }
      },
      "type": "object"
    },
    "THeartbeatEvent": {
      "allOf": [
        {
          "properties": {
            "duration": {
              "type": "number"
            },
            "playhead": {
              "type": "number"
            },
            "timestamp": {
              "type": "number"
            }
          },
          "type": "object"
        },
        {
          "$ref": "#/definitions/{payload:TBatchEventPayload;}"
        },
        {
          "properties": {
            "event": {
              "enum": ["heartbeat"],
              "type": "string"
            },
            "payload": {
              "$ref": "#/definitions/TBatchEventPayload"
            },
            "sessionId": {
              "type": "string"
            }
          },
          "type": "object"
        }
      ]
    },
    "TPlayerAnalyticsEvent": {
      "anyOf": [
        {
          "allOf": [
            {
              "properties": {
                "duration": {
                  "type": "number"
                },
                "playhead": {
                  "type": "number"
                },
                "timestamp": {
                  "type": "number"
                }
              },
              "type": "object"
            },
            {
              "properties": {
                "event": {
                  "enum": ["bitrate_changed"],
                  "type": "string"
                },
                "payload": {
                  "properties": {
                    "audioBitrate": {
                      "type": "number"
                    },
                    "bitrate": {
                      "type": "number"
                    },
                    "height": {
                      "type": "number"
                    },
                    "videoBitrate": {
                      "type": "number"
                    },
                    "width": {
                      "type": "number"
                    }
                  },
                  "type": "object"
                }
              },
              "type": "object"
            }
          ]
        },
        {
          "allOf": [
            {
              "properties": {
                "duration": {
                  "type": "number"
                },
                "playhead": {
                  "type": "number"
                },
                "timestamp": {
                  "type": "number"
                }
              },
              "type": "object"
            },
            {
              "properties": {
                "event": {
                  "enum": ["buffered"],
                  "type": "string"
                }
              },
              "type": "object"
            }
          ]
        },
        {
          "allOf": [
            {
              "properties": {
                "duration": {
                  "type": "number"
                },
                "playhead": {
                  "type": "number"
                },
                "timestamp": {
                  "type": "number"
                }
              },
              "type": "object"
            },
            {
              "properties": {
                "event": {
                  "enum": ["buffering"],
                  "type": "string"
                }
              },
              "type": "object"
            }
          ]
        },
        {
          "allOf": [
            {
              "properties": {
                "duration": {
                  "type": "number"
                },
                "playhead": {
                  "type": "number"
                },
                "timestamp": {
                  "type": "number"
                }
              },
              "type": "object"
            },
            {
              "properties": {
                "event": {
                  "enum": ["error"],
                  "type": "string"
                },
                "payload": {
                  "properties": {
                    "category": {
                      "type": "string"
                    },
                    "code": {
                      "type": "string"
                    },
                    "data": {
                      "$ref": "#/definitions/Record"
                    },
                    "message": {
                      "type": "string"
                    }
                  },
                  "type": "object"
                }
              },
              "type": "object"
            }
          ]
        },
        {
          "allOf": [
            {
              "properties": {
                "duration": {
                  "type": "number"
                },
                "playhead": {
                  "type": "number"
                },
                "timestamp": {
                  "type": "number"
                }
              },
              "type": "object"
            },
            {
              "properties": {
                "event": {
                  "enum": ["init"],
                  "type": "string"
                },
                "heartbeatInterval": {
                  "type": "number"
                },
                "payload": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/Record"
                    },
                    {
                      "properties": {
                        "contentId": {
                          "type": "string"
                        },
                        "contentUrl": {
                          "type": "string"
                        },
                        "deviceId": {
                          "type": "string"
                        },
                        "deviceModel": {
                          "type": "string"
                        },
                        "deviceType": {
                          "type": "string"
                        },
                        "drmType": {
                          "type": "string"
                        },
                        "live": {
                          "type": "boolean"
                        },
                        "userId": {
                          "type": "string"
                        }
                      },
                      "type": "object"
                    }
                  ]
                },
                "sessionId": {
                  "type": "string"
                }
              },
              "type": "object"
            }
          ]
        },
        {
          "allOf": [
            {
              "properties": {
                "duration": {
                  "type": "number"
                },
                "playhead": {
                  "type": "number"
                },
                "timestamp": {
                  "type": "number"
                }
              },
              "type": "object"
            },
            {
              "properties": {
                "event": {
                  "enum": ["loading"],
                  "type": "string"
                }
              },
              "type": "object"
            }
          ]
        },
        {
          "allOf": [
            {
              "properties": {
                "duration": {
                  "type": "number"
                },
                "playhead": {
                  "type": "number"
                },
                "timestamp": {
                  "type": "number"
                }
              },
              "type": "object"
            },
            {
              "properties": {
                "event": {
                  "enum": ["loaded"],
                  "type": "string"
                }
              },
              "type": "object"
            }
          ]
        },
        {
          "allOf": [
            {
              "properties": {
                "duration": {
                  "type": "number"
                },
                "playhead": {
                  "type": "number"
                },
                "timestamp": {
                  "type": "number"
                }
              },
              "type": "object"
            },
            {
              "properties": {
                "event": {
                  "enum": ["play"],
                  "type": "string"
                }
              },
              "type": "object"
            }
          ]
        },
        {
          "allOf": [
            {
              "properties": {
                "duration": {
                  "type": "number"
                },
                "playhead": {
                  "type": "number"
                },
                "timestamp": {
                  "type": "number"
                }
              },
              "type": "object"
            },
            {
              "properties": {
                "event": {
                  "enum": ["playing"],
                  "type": "string"
                }
              },
              "type": "object"
            }
          ]
        },
        {
          "allOf": [
            {
              "properties": {
                "duration": {
                  "type": "number"
                },
                "playhead": {
                  "type": "number"
                },
                "timestamp": {
                  "type": "number"
                }
              },
              "type": "object"
            },
            {
              "properties": {
                "event": {
                  "enum": ["pause"],
                  "type": "string"
                }
              },
              "type": "object"
            }
          ]
        },
        {
          "allOf": [
            {
              "properties": {
                "duration": {
                  "type": "number"
                },
                "playhead": {
                  "type": "number"
                },
                "timestamp": {
                  "type": "number"
                }
              },
              "type": "object"
            },
            {
              "properties": {
                "event": {
                  "enum": ["resume"],
                  "type": "string"
                }
              },
              "type": "object"
            }
          ]
        },
        {
          "allOf": [
            {
              "properties": {
                "duration": {
                  "type": "number"
                },
                "playhead": {
                  "type": "number"
                },
                "timestamp": {
                  "type": "number"
                }
              },
              "type": "object"
            },
            {
              "properties": {
                "event": {
                  "enum": ["seeking"],
                  "type": "string"
                }
              },
              "type": "object"
            }
          ]
        },
        {
          "allOf": [
            {
              "properties": {
                "duration": {
                  "type": "number"
                },
                "playhead": {
                  "type": "number"
                },
                "timestamp": {
                  "type": "number"
                }
              },
              "type": "object"
            },
            {
              "properties": {
                "event": {
                  "enum": ["seeked"],
                  "type": "string"
                }
              },
              "type": "object"
            }
          ]
        },
        {
          "allOf": [
            {
              "properties": {
                "duration": {
                  "type": "number"
                },
                "playhead": {
                  "type": "number"
                },
                "timestamp": {
                  "type": "number"
                }
              },
              "type": "object"
            },
            {
              "properties": {
                "event": {
                  "enum": ["warning"],
                  "type": "string"
                },
                "payload": {
                  "properties": {
                    "category": {
                      "type": "string"
                    },
                    "code": {
                      "type": "string"
                    },
                    "data": {
                      "$ref": "#/definitions/Record"
                    },
                    "message": {
                      "type": "string"
                    }
                  },
                  "type": "object"
                }
              },
              "type": "object"
            }
          ]
        },
        {
          "$ref": "#/definitions/TStoppedEvent"
        },
        {
          "$ref": "#/definitions/THeartbeatEvent"
        }
      ]
    },
    "TStoppedEvent": {
      "allOf": [
        {
          "properties": {
            "duration": {
              "type": "number"
            },
            "playhead": {
              "type": "number"
            },
            "timestamp": {
              "type": "number"
            }
          },
          "type": "object"
        },
        {
          "$ref": "#/definitions/{payload:TBatchEventPayload;}"
        },
        {
          "properties": {
            "event": {
              "enum": ["stopped"],
              "type": "string"
            },
            "payload": {
              "$ref": "#/definitions/TBatchEventPayload"
            },
            "sessionId": {
              "type": "string"
            }
          },
          "type": "object"
        }
      ]
    },
    "{payload:TBatchEventPayload;}": {
      "properties": {
        "payload": {
          "$ref": "#/definitions/TBatchEventPayload"
        }
      },
      "type": "object"
    }
  }
}
